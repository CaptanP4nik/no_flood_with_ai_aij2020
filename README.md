# NoFloodWithAI: прогнозирование паводков на реке Амур 

Разработать алгоритм краткосрочного прогнозирования уровней воды р. Амур для следующих населенных пунктов (гидропостов): Джалинда, Благовещенск, Иннокентьевка, Ленинское, Хабаровск, Комсомольск-на-Амуре, Николаевск-на-Амуре с заблаговременностью от одних до пяти суток.

Для оценки погрешности прогноза использовать $\textbf{WMAE}_2$ - (Weighted Mean Absolute Error) - описание ниже.


### Актуальность

Река Амур является трансграничной рекой, основная часть бассейна находится в пределах Российской Федерации. Для Амура характерна низкая водность в зимний период, небольшие половодья весной и неоднократные резкие подъемы воды во второй половине лета и в начале осени. Маловодные периоды сменяются годами большой воды.

В многолетнем режиме водного стока Амура отчётливо выражено чередование периодов пониженной и повышенной водности, каждый продолжительностью 12-17 лет. Амур по оценке гидрологов и исходя из истории наблюдений вошел в очередной период высокой водности в конце 2000-х. Исходя из данной гидрологической закономерности режима Амура, в ближайшие 5-7 лет следует ожидать сложную паводковую обстановку в течении Среднего и Нижнего Амура (наиболее сложная обстановка от слияния р. Сунгари и до Комсомольского района включительно). Наиболее крупномасштабные наводнения произошли в 2013 и 2019 гг. Причиной наводнений стали тропические циклоны, которые несли теплый влажный воздух, вызывали фронтальные разделы и сильные атмосферные осадки. В 2013 на значительной площади за 2-3 мес. сумма выпавших осадков превысила годовую, а местами и полуторагодовую норму.

В целях минимизации экономического ущерба становится актуальным создание инструмента для прогнозирования паводковых волн на Амуре и его притоках с высокой оправдываемостью.

#### Метрика $\textbf{WMAE}_2$:

$\textbf{WMAE}_2 = \frac{1}{n}\sum\limits_{i=1}^n\Big([y_i < lvl_1] + 5[lvl_1 \leq y_i < lvl_2] + 10[y_i \geq lvl_2]\Big)|\hat y - y|$, где

| station_id | $lvl_1$ | $lvl_2$ |
|----|----|----|
|6005| 700 |800 |
|6022| 700 |800 |
|6296| 600 |720 |
|6027| 850 |930 |
|5004| 750 |850 |
|5012| 450 |600 |
|5024| 450 |600 |
|5805| 250 |350 |

#### Вспомогательные таблицы: 
- /processed_data
    - `asunp.pkl` - таблица с описанием гидрологических и метеорологических постов. Взято с 'http://asunp.meteo.ru/geoits-rest/services/asunp/geo.json'

    - `daily.pkl` - таблица с соединенными файлами {номер_станции}_daily.csv из папки /hydro и приведенными к соответствующим форматам столбцами.

    - `disch_d.pkl` - таблица с соединенными файлами {номер_станции}_disch_d.csv из папки /hydro и приведенными к соответствующим форматам столбцами.

    - `disch_m.pkl` - таблица с соединенными файлами {номер_станции}_disch_m.csv из папки /hydro и приведенными к соответствующим форматам столбцами.

    - `ice.pkl` - таблица с соединенными файлами {номер_станции}_ice.csv из папки /hydro и приведенными к соответствующим форматам столбцами.

    - `meteo_coords.pkl` - таблица с номерами и координатами метеостанций. Построена на основе asunp.pkl

    - `s2m.pkl` - таблицами с номерами гидропостов; номерами, ближайших метеостанций; и расстояний между ними. Построена на основе asunp.pkl

    - `station_coords.pkl` - таблица с номерами и координатами гидрологических постов. Построена на основе asunp.pkl
